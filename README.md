# AI Markdown Converter

文章を入力し、生成AIを介してMarkdown形式に変換するWebアプリケーションです。

## 開発内容

### 実装した機能

1. **文章入力機能**
   - テキストエリアでの文章入力
   - 文字数カウンター
   - 入力値のバリデーション

2. **AI変換機能**
   - OpenAI GPT-4o-miniを使用した高度な変換
   - APIキーなしでも動作する基本的な変換
   - フォールバック機能

3. **プレビュー機能**
   - リアルタイムMarkdownプレビュー
   - react-markdownを使用したレンダリング
   - GitHub Flavored Markdown対応

4. **コピー機能**
   - 変換結果のクリップボードコピー
   - 成功時のフィードバック

5. **UI/UX機能**
   - レスポンシブデザイン
   - ローディング状態の表示
   - エラーハンドリング
   - APIキー状態の表示

### 技術スタック

- **フロントエンド**: Next.js 14, React 18, TypeScript
- **スタイリング**: Tailwind CSS
- **AI**: OpenAI GPT-4o-mini（オプション）
- **Markdownレンダリング**: react-markdown, remark-gfm
- **開発環境**: ESLint, PostCSS

### アーキテクチャ

```
src/
├── app/
│   ├── api/
│   │   ├── convert/
│   │   │   └── route.ts          # Markdown変換API
│   │   └── check-api-key/
│   │       └── route.ts          # APIキーチェックAPI
│   ├── globals.css               # グローバルスタイル
│   ├── layout.tsx                # ルートレイアウト
│   └── page.tsx                  # メインページ
├── components/
│   └── MarkdownConverter.tsx     # メインコンポーネント
└── lib/
    └── ai-service.ts             # AI変換サービス
```

## 変換モード

### 1. 高度なAI変換（OpenAI APIキーあり）
- OpenAI GPT-4o-miniを使用
- より自然で適切なMarkdown変換
- 文脈を理解した変換
- 以下の変換をサポート：
  - 見出し（#, ##, ###）
  - 強調（**太字**, *斜体*）
  - リスト（箇条書き）
  - リンク
  - コードブロック
  - 引用

### 2. 基本的な変換（APIキーなし）
- ルールベースの変換
- 以下の変換をサポート：
  - 見出し（行末に「。」がある場合）
  - 強調（「」で囲まれた部分）
  - リスト（行頭に「・」や「-」がある場合）
  - 段落の分離

## セットアップ手順

### 1. プロジェクトのクローン

```bash
git clone <repository-url>
cd ai-markdown-converter
```

### 2. 依存関係のインストール

```bash
npm install
```

### 3. 環境変数の設定（オプション）

OpenAI APIキーを設定すると、より高度な変換が可能になります：

```bash
cp env.example .env.local
```

`.env.local`ファイルを編集して、実際のOpenAI APIキーを設定：

```
OPENAI_API_KEY=your_actual_openai_api_key_here
```

**注意**: APIキーが設定されていない場合でも、基本的な変換機能は利用できます。

### 4. 開発サーバーの起動

```bash
npm run dev
```

アプリケーションは `http://localhost:3000` で起動します。

### 5. ブラウザでアクセス

ブラウザで `http://localhost:3000` にアクセスしてアプリケーションを使用します。

## 使用方法

### 基本的な使用方法

1. ブラウザでアプリケーションにアクセス
2. 変換したい文章を入力エリアに入力
3. 「Markdownに変換」ボタンをクリック
4. 変換結果を確認し、必要に応じてコピー

### 変換例

**入力**:
```
今日の会議の議題。
・プロジェクトの進捗確認
・次回のスケジュール調整
・「重要」な決定事項の検討
```

**出力（基本的な変換）**:
```markdown
# 今日の会議の議題

- プロジェクトの進捗確認
- 次回のスケジュール調整
- **重要**な決定事項の検討
```

**出力（高度なAI変換）**:
```markdown
# 今日の会議の議題

## 議題項目

- **プロジェクトの進捗確認**
- **次回のスケジュール調整**
- **重要**な決定事項の検討

> 特に重要な決定事項については、詳細な検討が必要です。
```

## 開発コマンド

### 開発サーバーの起動
```bash
npm run dev
```

### 本番ビルド
```bash
npm run build
```

### 本番環境での起動
```bash
npm start
```

### リント
```bash
npm run lint
```

## セキュリティ対策

- **環境変数管理**: APIキーは環境変数で管理
- **入力値バリデーション**: すべての入力値を適切にバリデーション
- **エラーハンドリング**: 適切なエラーハンドリングの実装
- **CORS設定**: 適切なCORS設定の管理
- **セキュリティヘッダー**: セキュリティヘッダーの設定

## トラブルシューティング

### よくある問題

1. **ポート3000が使用中**
   - 自動的に3001ポートに切り替わります
   - `http://localhost:3001` でアクセスしてください

2. **APIキーエラー**
   - `.env.local`ファイルが正しく設定されているか確認
   - APIキーが有効かどうか確認

3. **変換が失敗する**
   - ネットワーク接続を確認
   - 入力テキストが適切かどうか確認

### ログの確認

開発サーバーのコンソールでログを確認できます：

```bash
npm run dev
```

## 今後の改善予定

- [ ] より多くのMarkdown記法のサポート
- [ ] 変換履歴の保存機能
- [ ] テンプレート機能
- [ ] バッチ変換機能
- [ ] 多言語対応

## ライセンス

MIT License

## 貢献

プルリクエストやイシューの報告を歓迎します。

## 作者

AI Markdown Converter Development Team