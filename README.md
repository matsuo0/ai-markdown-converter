# AI 文章要約・Markdown変換

文章を入力し、生成AIを介して要約してMarkdown形式にまとめるWebアプリケーションです。

## 開発内容

### 実装した機能

1. **文章入力機能**
   - テキストエリアでの文章入力
   - 文字数カウンター
   - 入力値のバリデーション

2. **AI要約機能**
   - OpenAI GPT-4o-miniを使用した高度な要約
   - APIキーなしでも動作する基本的な変換
   - フォールバック機能

3. **プレビュー機能**
   - リアルタイムMarkdownプレビュー
   - react-markdownを使用したレンダリング
   - GitHub Flavored Markdown対応

4. **コピー機能**
   - 要約結果のクリップボードコピー
   - 成功時のフィードバック

5. **UI/UX機能**
   - レスポンシブデザイン
   - ローディング状態の表示
   - エラーハンドリング
   - APIキー状態の表示

### 技術スタック

- **フロントエンド**: Next.js 14, React 18, TypeScript
- **スタイリング**: Tailwind CSS
- **AI**: OpenAI GPT-4o-mini（オプション）
- **Markdownレンダリング**: react-markdown, remark-gfm
- **開発環境**: ESLint, PostCSS

### アーキテクチャ

```
src/
├── app/
│   ├── api/
│   │   ├── convert/
│   │   │   └── route.ts          # 要約・Markdown変換API
│   │   └── check-api-key/
│   │       └── route.ts          # APIキーチェックAPI
│   ├── globals.css               # グローバルスタイル
│   ├── layout.tsx                # ルートレイアウト
│   └── page.tsx                  # メインページ
├── components/
│   └── MarkdownConverter.tsx     # メインコンポーネント
└── lib/
    └── ai-service.ts             # AI要約サービス
```

## 要約モード

### 1. 高度なAI要約（OpenAI APIキーあり）
- OpenAI GPT-4o-miniを使用
- より自然で適切な要約
- 文脈を理解した要約
- 以下の要素を含む要約：
  - メインのトピックやテーマ
  - 重要なポイントやキーワード
  - 結論や要点
  - 見出し、リスト、強調、引用などのMarkdown記法

### 2. 基本的な変換（APIキーなし）
- ルールベースの変換
- 以下の変換をサポート：
  - 見出し（行末に「。」がある場合）
  - 強調（「」で囲まれた部分）
  - リスト（行頭に「・」や「-」がある場合）
  - 段落の分離

## セットアップ手順

### 1. プロジェクトのクローン

```bash
git clone <repository-url>
cd ai-markdown-converter
```

### 2. 依存関係のインストール

```bash
npm install
```

### 3. 環境変数の設定（オプション）

OpenAI APIキーを設定すると、より高度な要約が可能になります：

```bash
cp env.example .env.local
```

`.env.local`ファイルを編集して、実際のOpenAI APIキーを設定：

```
OPENAI_API_KEY=your_actual_openai_api_key_here
```

**注意**: APIキーが設定されていない場合でも、基本的な変換機能は利用できます。

### 4. 開発サーバーの起動

```bash
npm run dev
```

アプリケーションは `http://localhost:3000` で起動します。

### 5. ブラウザでアクセス

ブラウザで `http://localhost:3000` にアクセスしてアプリケーションを使用します。

## 使用方法

### 基本的な使用方法

1. ブラウザでアプリケーションにアクセス
2. 要約したい文章を入力エリアに入力
3. 「要約してMarkdownに変換」ボタンをクリック
4. 要約結果を確認し、必要に応じてコピー

### 要約例

**入力**:
```
今日の会議では、プロジェクトの進捗について話し合いました。開発チームは予定通りに進んでおり、来週のリリースに向けて最終調整を行っています。また、新しい機能の追加についても検討し、ユーザーフィードバックを基に優先順位を決定しました。特に重要なのは、セキュリティ面での強化とパフォーマンスの改善です。
```

**出力（高度なAI要約）**:
```markdown
# プロジェクト進捗会議の要約

## 主要な議題
- プロジェクト進捗の確認
- 新機能追加の検討
- リリース準備の状況

## 重要なポイント
- **開発チーム**: 予定通りに進捗
- **リリース予定**: 来週
- **新機能**: ユーザーフィードバックを基に優先順位決定

## 重点項目
- セキュリティ面での強化
- パフォーマンスの改善

## 次のステップ
最終調整を継続し、来週のリリースに備える
```

**出力（基本的な変換）**:
```markdown
# 今日の会議では、プロジェクトの進捗について話し合いました

- 開発チームは予定通りに進んでおり、来週のリリースに向けて最終調整を行っています
- また、新しい機能の追加についても検討し、ユーザーフィードバックを基に優先順位を決定しました
- 特に重要なのは、**セキュリティ面での強化**と**パフォーマンスの改善**です
```

## 開発コマンド

### 開発サーバーの起動
```bash
npm run dev
```

### 本番ビルド
```bash
npm run build
```

### 本番環境での起動
```bash
npm start
```

### リント
```bash
npm run lint
```

## セキュリティ対策

- **環境変数管理**: APIキーは環境変数で管理
- **入力値バリデーション**: すべての入力値を適切にバリデーション
- **エラーハンドリング**: 適切なエラーハンドリングの実装
- **CORS設定**: 適切なCORS設定の管理
- **セキュリティヘッダー**: セキュリティヘッダーの設定

## トラブルシューティング

### よくある問題

1. **ポート3000が使用中**
   - 自動的に3001ポートに切り替わります
   - `http://localhost:3001` でアクセスしてください

2. **APIキーエラー**
   - `.env.local`ファイルが正しく設定されているか確認
   - APIキーが有効かどうか確認

3. **要約が失敗する**
   - ネットワーク接続を確認
   - 入力テキストが適切かどうか確認

### ログの確認

開発サーバーのコンソールでログを確認できます：

```bash
npm run dev
```

## 今後の改善予定

- [ ] より詳細な要約オプション
- [ ] 要約履歴の保存機能
- [ ] テンプレート機能
- [ ] バッチ要約機能
- [ ] 多言語対応
- [ ] 要約の精度向上

## ライセンス

MIT License

## 貢献

プルリクエストやイシューの報告を歓迎します。

## 作者

AI Markdown Converter Development Team